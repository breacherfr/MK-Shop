<!DOCTYPE html>
<html lang="fr" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MK SHOP - V17 Ultimate</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700;900&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: { sans: ['Montserrat', 'sans-serif'] },
                    colors: {
                        mk: { 
                            bg: '#0f172a', 
                            card: '#1e293b', 
                            accent: '#06b6d4', 
                            light: '#f1f5f9',
                            lightcard: '#ffffff'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* Styles de base transitionnels */
        body { transition: background-color 0.3s, color 0.3s; }
        
        /* Glassmorphism adapt√© Dark/Light */
        .glass { 
            background: rgba(255, 255, 255, 0.1); 
            backdrop-filter: blur(10px); 
            border: 1px solid rgba(255, 255, 255, 0.2); 
        }
        .dark .glass {
            background: rgba(30, 41, 59, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .card-hover { transition: all 0.3s; }
        .card-hover:hover { transform: translateY(-5px); border-color: #06b6d4; box-shadow: 0 0 20px rgba(6, 182, 212, 0.2); }
        
        /* Chat Styles */
        .chat-bubble-me { background: #06b6d4; color: white; border-radius: 15px 15px 0 15px; }
        .chat-bubble-other { background: #e2e8f0; color: black; border-radius: 15px 15px 15px 0; }
        .dark .chat-bubble-other { background: #334155; color: white; }
        
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-thumb { background: #06b6d4; border-radius: 3px; }
    </style>
</head>
<body class="bg-mk-light text-gray-800 dark:bg-mk-bg dark:text-white antialiased min-h-screen flex flex-col relative overflow-x-hidden transition-colors duration-300">

    <nav class="glass sticky top-0 z-40 px-6 py-4 flex justify-between items-center shadow-sm dark:shadow-none">
        <div class="flex items-center gap-2 cursor-pointer" onclick="location.reload()">
            <span class="text-2xl">üõçÔ∏è</span>
            <h1 class="text-xl font-black italic tracking-widest">MK <span class="text-mk-accent">SHOP</span></h1>
        </div>
        
        <div class="flex items-center gap-4">
            <button onclick="toggleTheme()" class="p-2 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-mk-accent transition">
                <span class="dark:hidden">‚òÄÔ∏è</span>
                <span class="hidden dark:inline">üåô</span>
            </button>

            <div id="user-display" class="hidden text-xs font-bold text-mk-accent border border-mk-accent px-3 py-1 rounded-full"></div>
            
            <div id="auth-buttons" class="flex gap-2">
                <button onclick="toggleAuth('login')" class="text-xs font-bold hover:text-mk-accent transition">CONNEXION</button>
                <button onclick="toggleAuth('signup')" class="text-xs font-bold bg-mk-accent text-white px-4 py-2 rounded-lg hover:brightness-110 transition">S'INSCRIRE</button>
            </div>
            
            <button onclick="openAdminAuth()" class="text-[10px] text-gray-400 hover:text-red-500 font-mono">ADMIN</button>
        </div>
    </nav>

    <main id="shop-page" class="max-w-7xl mx-auto p-6 md:p-10 pb-24">
        
        <div class="mb-12 text-center space-y-4">
            <h2 class="text-4xl md:text-6xl font-black italic uppercase bg-clip-text text-transparent bg-gradient-to-r from-gray-800 to-gray-400 dark:from-white dark:to-gray-500">Catalogue Officiel</h2>
            <p class="text-mk-accent uppercase tracking-[0.3em] text-xs font-bold">Qualit√© Premium ‚Ä¢ Support 24/7</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

            <div class="glass bg-white dark:bg-mk-card rounded-3xl p-6 flex flex-col justify-between card-hover relative overflow-hidden group shadow-lg dark:shadow-none border border-gray-200 dark:border-gray-700">
                <div class="absolute top-0 right-0 bg-mk-accent text-white text-[10px] font-bold px-3 py-1 rounded-bl-xl z-10 shadow-lg animate-pulse">BEST SELLER</div>
                <div>
                    <div class="text-5xl mb-4 group-hover:scale-110 transition duration-300">üéÆ</div>
                    <h3 class="text-2xl font-bold mb-2">Comptes Roblox</h3>
                    <p class="text-xs text-gray-500 dark:text-gray-400 mb-4 uppercase font-bold tracking-wide">COMPTES OPTIMIS√âS</p>
                    <ul class="text-sm text-gray-600 dark:text-gray-300 space-y-2 mb-6 border-l-2 border-mk-accent pl-4">
                        <li>‚Ä¢ 0 - 1000 Robux al√©atoire</li>
                        <li>‚Ä¢ Compte Full (Blox Fruits, Da Hood)</li>
                        <li>‚Ä¢ Voice Chat / Age Verified (+13)</li>
                    </ul>
                </div>
                <div class="mt-auto flex justify-between items-center">
                    <span class="text-2xl font-black text-mk-accent">5‚Ç¨ - 30‚Ç¨</span>
                    <button onclick="openChat('Compte Roblox', 'Variable')" class="bg-gray-900 dark:bg-white text-white dark:text-black font-bold px-6 py-2 rounded-full hover:bg-mk-accent transition">ACHETER</button>
                </div>
            </div>

            <div class="glass bg-white dark:bg-mk-card rounded-3xl p-6 flex flex-col justify-between card-hover shadow-lg dark:shadow-none border border-gray-200 dark:border-gray-700">
                <div>
                    <div class="text-5xl mb-4">üì∫</div>
                    <h3 class="text-2xl font-bold mb-2">TV & Anim√©s</h3>
                    <p class="text-xs text-gray-500 dark:text-gray-400 mb-4 uppercase font-bold tracking-wide">STREAMING ILLIMIT√â</p>
                    <ul class="text-sm text-gray-600 dark:text-gray-300 space-y-2 mb-6 border-l-2 border-mk-accent pl-4">
                        <li>‚Ä¢ Dessins anim√©s & Mangas</li>
                        <li>‚Ä¢ Cha√Ænes de t√©l√© fran√ßaise (TF1, M6...)</li>
                        <li>‚Ä¢ Acc√®s Imm√©diat 24/7</li>
                    </ul>
                </div>
                <div class="mt-auto">
                    <div class="bg-gray-100 dark:bg-black/50 p-3 rounded-xl mb-4 border border-gray-300 dark:border-gray-700">
                        <label class="text-[10px] text-gray-500 block mb-1 uppercase font-bold">Code d'acc√®s membre :</label>
                        <div class="flex gap-2">
                            <input id="tv-code-input" type="text" placeholder="ACCES-ACHETER-..." class="w-full bg-transparent text-sm outline-none text-gray-900 dark:text-white font-mono">
                            <button onclick="checkStreamingCode()" class="text-mk-accent font-bold">‚Üí</button>
                        </div>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-2xl font-black text-mk-accent">4‚Ç¨<span class="text-xs text-gray-400 font-normal">/mois</span></span>
                        <button onclick="openChat('Abonnement TV', '4‚Ç¨')" class="bg-gray-900 dark:bg-white text-white dark:text-black font-bold px-6 py-2 rounded-full hover:bg-mk-accent transition">ACHETER</button>
                    </div>
                </div>
            </div>

            <div class="glass bg-white dark:bg-mk-card rounded-3xl p-6 flex flex-col justify-between card-hover border border-red-500/20 shadow-lg dark:shadow-none">
                <div>
                    <div class="text-5xl mb-4">üéØ</div>
                    <h3 class="text-2xl font-bold mb-2 text-red-500">Cheat Roblox/Jeux</h3>
                    <p class="text-xs text-gray-500 dark:text-gray-400 mb-4 uppercase font-bold tracking-wide">MODE MENU & SCRIPTS</p>
                    <ul class="text-sm text-gray-600 dark:text-gray-300 space-y-2 mb-6 border-l-2 border-red-500 pl-4">
                        <li>‚Ä¢ Roblox Executors (PC/Mobile)</li>
                        <li>‚Ä¢ Fortnite Softaim & ESP</li>
                        <li>‚Ä¢ Ind√©tectable & Mis √† jour</li>
                    </ul>
                </div>
                <div class="mt-auto flex justify-between items-center">
                    <span class="text-2xl font-black text-red-500">6‚Ç¨ - 15‚Ç¨</span>
                    <button onclick="openChat('Cheat Gaming', 'Variable')" class="bg-gray-900 dark:bg-white text-white dark:text-black font-bold px-6 py-2 rounded-full hover:bg-red-500 hover:text-white transition">ACHETER</button>
                </div>
            </div>

            <div class="glass bg-white dark:bg-mk-card rounded-3xl p-6 flex flex-col justify-between card-hover shadow-lg dark:shadow-none border border-gray-200 dark:border-gray-700">
                <div>
                    <div class="text-5xl mb-4">‚≠ê</div>
                    <h3 class="text-2xl font-bold mb-2">Comptes Premium</h3>
                    <p class="text-xs text-gray-500 dark:text-gray-400 mb-4 uppercase font-bold tracking-wide">MUSIQUE & S√âRIES</p>
                    <ul class="text-sm text-gray-600 dark:text-gray-300 space-y-2 mb-6 border-l-2 border-mk-accent pl-4">
                        <li>‚Ä¢ Spotify / Deezer √† vie</li>
                        <li>‚Ä¢ Crunchyroll / Netflix</li>
                        <li>‚Ä¢ Garantie de remplacement</li>
                    </ul>
                </div>
                <div class="mt-auto flex justify-between items-center">
                    <span class="text-2xl font-black text-mk-accent">3‚Ç¨ - 10‚Ç¨</span>
                    <button onclick="openChat('Compte Premium', 'Variable')" class="bg-gray-900 dark:bg-white text-white dark:text-black font-bold px-6 py-2 rounded-full hover:bg-mk-accent transition">ACHETER</button>
                </div>
            </div>

            <div class="glass bg-purple-50 dark:bg-mk-card rounded-3xl p-6 flex flex-col justify-between card-hover border border-purple-500/30 md:col-span-2 shadow-lg dark:shadow-none">
                <div class="flex flex-col md:flex-row gap-6">
                    <div class="text-5xl">‚ú®</div>
                    <div>
                        <h3 class="text-2xl font-bold mb-2 text-purple-600 dark:text-purple-400">Demande Personnalis√©e</h3>
                        <p class="text-xs text-gray-500 dark:text-gray-400 mb-2 uppercase font-bold tracking-wide">VOUS CHERCHEZ QUELQUE CHOSE DE SP√âCIFIQUE ?</p>
                        <p class="text-sm text-gray-700 dark:text-gray-300 mb-4">Un compte rare ? Un script sp√©cifique ? Discutez directement avec nous pour un devis sur mesure. Nous trouvons tout.</p>
                    </div>
                </div>
                <div class="mt-auto flex justify-end">
                    <button onclick="openChat('Demande Perso', 'Sur Devis')" class="bg-purple-600 text-white font-bold px-8 py-3 rounded-full hover:bg-purple-500 transition shadow-lg shadow-purple-500/20">CONTACTER LE VENDEUR</button>
                </div>
            </div>

        </div>
    </main>

    <div id="streaming-page" class="hidden min-h-screen bg-gray-900 text-white absolute inset-0 z-50 overflow-y-auto">
        <div class="p-4 lg:p-8">
            <div class="flex justify-between items-center mb-8">
                <div class="flex items-center gap-2">
                    <h2 class="text-3xl font-black text-mk-accent italic">MK <span class="text-white">TV</span></h2>
                    <span class="bg-red-600 text-white text-[10px] px-2 py-0.5 rounded font-bold uppercase animate-pulse">En Direct</span>
                </div>
                <button onclick="logoutStream()" class="text-gray-400 text-xs font-bold border border-gray-600 px-4 py-2 rounded hover:border-red-500 hover:text-red-500 transition">QUITTER</button>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2 space-y-4">
                    <div class="aspect-video bg-black rounded-2xl overflow-hidden border border-gray-800 relative shadow-2xl">
                        <video id="stream-player" class="w-full h-full" controls crossorigin="anonymous"></video>
                    </div>
                    <h3 class="font-bold text-xl" id="current-channel-name">S√©lectionnez une cha√Æne</h3>
                </div>
                
                <div class="space-y-6">
                    <div class="bg-gray-800/50 p-4 rounded-2xl border border-gray-700">
                        <h3 class="font-bold text-mk-accent mb-4 uppercase text-sm">üì∫ Cha√Ænes Fran√ßaises</h3>
                        <div class="grid grid-cols-2 gap-2">
                            <button onclick="playStream('https://static.france24.com/live/f24_fr.video/playlist.m3u8', 'France 24')" class="bg-gray-700 hover:bg-blue-600 p-2 rounded text-xs font-bold transition text-left">France 24</button>
                            <button onclick="playStream('https://bfmtv-lh.akamaihd.net/i/bfmtv_1@446033/index_1080_av-p.m3u8', 'BFM TV')" class="bg-gray-700 hover:bg-blue-600 p-2 rounded text-xs font-bold transition text-left">BFM TV</button>
                            <button onclick="playStream('https://artesimulcast.akamaized.net/hls/live/2030993/artelive_fr/index.m3u8', 'ARTE')" class="bg-gray-700 hover:bg-orange-600 p-2 rounded text-xs font-bold transition text-left">ARTE</button>
                            <button onclick="playStream('https://rbmn-live.akamaized.net/hls/live/590964/BoRB-AT/master.m3u8', 'Red Bull TV')" class="bg-gray-700 hover:bg-red-600 p-2 rounded text-xs font-bold transition text-left">Red Bull TV</button>
                        </div>
                    </div>

                    <div class="bg-gray-800/50 p-4 rounded-2xl border border-gray-700">
                        <h3 class="font-bold text-mk-accent mb-4 uppercase text-sm">üë∫ Anim√©s & Dessins Anim√©s</h3>
                        <div class="space-y-3 h-64 overflow-y-auto pr-2 custom-scrollbar" id="anime-list">
                            </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="auth-modal" class="hidden fixed inset-0 z-[60] bg-black/90 backdrop-blur-sm flex items-center justify-center p-4">
        <div class="bg-white dark:bg-mk-card p-8 rounded-3xl w-full max-w-sm relative shadow-2xl">
            <button onclick="closeModal('auth-modal')" class="absolute top-4 right-4 text-gray-500 hover:text-red-500 text-xl">‚úï</button>
            <h3 id="auth-title" class="text-2xl font-black text-mk-accent mb-6 uppercase italic text-center">Connexion</h3>
            <div class="space-y-4">
                <input id="auth-user" type="text" placeholder="Pseudo" class="w-full bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-700 p-3 rounded-xl outline-none focus:border-mk-accent dark:text-white">
                <input id="auth-pass" type="password" placeholder="Mot de passe" class="w-full bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-700 p-3 rounded-xl outline-none focus:border-mk-accent dark:text-white">
                <button onclick="handleAuthSubmit()" class="w-full bg-mk-accent text-white font-bold py-3 rounded-xl hover:bg-cyan-600 transition uppercase shadow-lg shadow-cyan-500/30">Valider</button>
            </div>
        </div>
    </div>

    <div id="chat-modal" class="hidden fixed inset-0 z-[70] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4">
        <div class="bg-white dark:bg-mk-card w-full max-w-md h-[500px] rounded-2xl overflow-hidden flex flex-col shadow-2xl border border-gray-200 dark:border-gray-700">
            <div class="bg-mk-accent p-4 flex justify-between items-center text-white">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-full bg-white/20 flex items-center justify-center text-xl">üë§</div>
                    <div>
                        <h4 class="font-bold text-sm" id="chat-product-title">Vendeur</h4>
                        <p class="text-[10px] text-white/80">‚óè En ligne</p>
                    </div>
                </div>
                <button onclick="closeModal('chat-modal')" class="hover:bg-white/20 rounded-full p-1 transition">‚úï</button>
            </div>
            
            <div id="chat-messages" class="flex-1 p-4 overflow-y-auto space-y-4 bg-gray-50 dark:bg-[#0b1120]"></div>

            <div class="p-4 bg-white dark:bg-mk-card border-t border-gray-200 dark:border-gray-700 flex gap-2">
                <input id="chat-input" type="text" placeholder="Message..." class="flex-1 bg-gray-100 dark:bg-gray-900 rounded-full px-4 text-sm dark:text-white outline-none focus:ring-1 focus:ring-mk-accent" onkeypress="handleEnter(event)">
                <button onclick="sendMessage()" class="bg-mk-accent text-white w-10 h-10 rounded-full flex items-center justify-center font-bold shadow-md hover:scale-105 transition">‚û§</button>
            </div>
        </div>
    </div>

    <div id="admin-login-modal" class="hidden fixed inset-0 z-[80] bg-black/95 flex items-center justify-center">
        <div class="text-center p-8 bg-gray-900 border border-red-900/50 rounded-2xl">
            <h3 class="text-red-500 font-mono font-bold text-xl mb-4 tracking-widest">SECURE ACCESS</h3>
            <input id="admin-pass-input" type="password" placeholder="Admin Key" class="bg-black border border-red-900 text-red-500 p-2 text-center rounded mb-4 outline-none w-64 block mx-auto font-mono text-sm">
            <button onclick="checkAdminCode()" class="bg-red-900/20 text-red-500 border border-red-500 px-6 py-2 rounded hover:bg-red-500 hover:text-white transition font-mono text-xs uppercase">Unlock Terminal</button>
            <button onclick="closeModal('admin-login-modal')" class="block mx-auto mt-6 text-gray-600 text-[10px] hover:text-white">ANNULER</button>
        </div>
    </div>

    <div id="admin-dashboard" class="hidden fixed inset-0 z-[90] bg-[#050505] p-6 overflow-y-auto font-mono text-xs">
        <div class="max-w-6xl mx-auto">
            <div class="flex justify-between items-center mb-8 border-b border-gray-800 pb-4">
                <h2 class="text-2xl text-green-500 font-bold">MK ADMIN PANEL <span class="text-gray-600 text-xs font-normal">v17.0</span></h2>
                <button onclick="closeModal('admin-dashboard')" class="text-red-500 border border-red-500 px-4 py-2 rounded hover:bg-red-900 hover:text-white transition">DECONNEXION</button>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-gray-900 border border-gray-800 p-4 rounded-xl">
                    <h3 class="text-mk-accent font-bold mb-4 uppercase text-lg border-b border-gray-700 pb-2">üìÇ Base Utilisateurs (Mots de passe)</h3>
                    <div class="space-y-2 max-h-[500px] overflow-y-auto" id="admin-users-list"></div>
                </div>

                <div class="bg-gray-900 border border-gray-800 p-4 rounded-xl">
                    <h3 class="text-yellow-500 font-bold mb-4 uppercase text-lg border-b border-gray-700 pb-2">üì° Interceptions Chat</h3>
                    <div class="space-y-2 max-h-[500px] overflow-y-auto" id="admin-chat-log"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // === CONFIGURATION ===
        const STREAM_CODE = "ACCES-ACHETER-0001";
        const ADMIN_CODE = "AdminCode-CodeAdmin-fr/en";
        
        let currentUser = localStorage.getItem('mk_user') || null;
        let dbUsers = JSON.parse(localStorage.getItem('mk_db_users')) || [];
        let chatLogs = JSON.parse(localStorage.getItem('mk_chat_logs')) || [];

        // === INIT ===
        window.onload = () => {
            // Theme check
            if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
            
            updateUI();
            loadAnimeList();
        };

        function toggleTheme() {
            if(document.documentElement.classList.contains('dark')) {
                document.documentElement.classList.remove('dark');
                localStorage.theme = 'light';
            } else {
                document.documentElement.classList.add('dark');
                localStorage.theme = 'dark';
            }
        }

        // === AUTH ===
        let authMode = 'login';
        function toggleAuth(mode) {
            authMode = mode;
            document.getElementById('auth-modal').classList.remove('hidden');
            document.getElementById('auth-title').innerText = mode === 'login' ? 'Connexion' : 'Inscription';
        }

        function handleAuthSubmit() {
            const u = document.getElementById('auth-user').value;
            const p = document.getElementById('auth-pass').value;
            if(!u || !p) return alert("Champs vides !");

            if (authMode === 'signup') {
                dbUsers.push({ user: u, pass: p, date: new Date().toLocaleString() });
                localStorage.setItem('mk_db_users', JSON.stringify(dbUsers));
                alert("Compte cr√©√© !");
                toggleAuth('login');
            } else {
                currentUser = u;
                localStorage.setItem('mk_user', u);
                closeModal('auth-modal');
                updateUI();
            }
        }

        function updateUI() {
            if(currentUser) {
                document.getElementById('auth-buttons').classList.add('hidden');
                const badge = document.getElementById('user-display');
                badge.classList.remove('hidden');
                badge.innerText = currentUser;
            }
        }

        // === CHAT ===
        let currentProduct = "";
        function openChat(product, price) {
            if(!currentUser) { alert("Veuillez vous connecter ou vous inscrire pour acheter !"); return toggleAuth('login'); }
            currentProduct = product;
            document.getElementById('chat-modal').classList.remove('hidden');
            document.getElementById('chat-product-title').innerText = product;
            
            // Message initial
            document.getElementById('chat-messages').innerHTML = `
                <div class="flex justify-start"><div class="chat-bubble-other p-3 text-sm max-w-[85%] shadow-sm">
                    Bonjour <b>${currentUser}</b> ! Pour acheter <b>${product}</b> (${price}), envoyez un message.
                </div></div>`;
        }

        function sendMessage() {
            const input = document.getElementById('chat-input');
            const msg = input.value.trim();
            if(!msg) return;

            // Affichage User
            const chatBox = document.getElementById('chat-messages');
            chatBox.innerHTML += `<div class="flex justify-end mt-2"><div class="chat-bubble-me p-3 text-sm max-w-[85%] shadow-sm">${msg}</div></div>`;
            
            // Save log
            chatLogs.push({ user: currentUser, msg: msg, product: currentProduct, time: new Date().toLocaleTimeString() });
            localStorage.setItem('mk_chat_logs', JSON.stringify(chatLogs));

            // Auto Reply (Updated)
            setTimeout(() => {
                chatBox.innerHTML += `
                    <div class="flex justify-start mt-2">
                        <div class="chat-bubble-other p-3 text-sm max-w-[85%] shadow-sm">
                            Salut, quelqu'un va bientot r√©pondre, ajoute <b>mkdevelopper</b> sur discord si tu veut avoir un r√©ponse plus rapide.
                            <span class="block text-[9px] text-gray-500 text-right mt-1">Bot MK</span>
                        </div>
                    </div>`;
                chatBox.scrollTop = chatBox.scrollHeight;
            }, 800);

            input.value = "";
            chatBox.scrollTop = chatBox.scrollHeight;
        }
        function handleEnter(e) { if(e.key === 'Enter') sendMessage(); }

        // === ADMIN ===
        function openAdminAuth() { document.getElementById('admin-login-modal').classList.remove('hidden'); }
        function checkAdminCode() {
            if(document.getElementById('admin-pass-input').value === ADMIN_CODE) {
                closeModal('admin-login-modal');
                openAdminDashboard();
            } else { alert("ACCESS DENIED"); }
        }
        function openAdminDashboard() {
            document.getElementById('admin-dashboard').classList.remove('hidden');
            
            // Users List
            const uList = document.getElementById('admin-users-list');
            uList.innerHTML = dbUsers.length ? "" : "Aucun inscrit.";
            dbUsers.forEach(u => {
                uList.innerHTML += `<div class="bg-black p-2 rounded mb-1 flex justify-between border border-gray-800"><span class="text-cyan-400">${u.user}</span> <span class="text-red-400 select-all">${u.pass}</span></div>`;
            });

            // Chat Logs
            const cList = document.getElementById('admin-chat-log');
            cList.innerHTML = chatLogs.length ? "" : "Aucun message.";
            chatLogs.slice().reverse().forEach(l => {
                cList.innerHTML += `<div class="bg-black p-2 rounded mb-2 border border-gray-800"><div class="text-[10px] text-gray-500 flex justify-between"><span>${l.time}</span> <span class="text-yellow-500">${l.product}</span></div><div class="text-white"><span class="text-cyan-400 font-bold">${l.user}:</span> ${l.msg}</div></div>`;
            });
        }

        // === STREAMING ===
        function checkStreamingCode() {
            if(document.getElementById('tv-code-input').value === STREAM_CODE) {
                document.getElementById('shop-page').classList.add('hidden');
                document.getElementById('streaming-page').classList.remove('hidden');
            } else { alert("Code Incorrect."); }
        }

        function logoutStream() {
            document.getElementById('streaming-page').classList.add('hidden');
            document.getElementById('shop-page').classList.remove('hidden');
            const video = document.getElementById('stream-player');
            video.pause();
            video.src = "";
        }

        function playStream(url, name) {
            const video = document.getElementById('stream-player');
            document.getElementById('current-channel-name').innerText = name;
            
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(video);
                hls.on(Hls.Events.MANIFEST_PARSED, function() { video.play(); });
            } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
                video.src = url;
                video.addEventListener('loadedmetadata', function() { video.play(); });
            }
        }

        function openYT(id) { window.open(`https://www.youtube.com/watch?v=${id}`, '_blank'); }

        function loadAnimeList() {
            const animes = [
                {id: "QfEv8Af3Mtk", t: "Pat' Patrouille"},
                {id: "55neqT8Ztqc", t: "Garfield"},
                {id: "Fp9pNPdNwjI", t: "Dragon Ball Super"},
                {id: "Q1NkmCp-1hY", t: "Fullmetal Alchemist"},
                {id: "M7lc1UVf-VE", t: "Film Action"}
            ];
            const list = document.getElementById('anime-list');
            animes.forEach(a => {
                list.innerHTML += `
                    <div onclick="openYT('${a.id}')" class="flex items-center gap-3 p-2 rounded cursor-pointer hover:bg-white/10 transition group">
                        <img src="https://img.youtube.com/vi/${a.id}/mqdefault.jpg" class="w-16 h-10 object-cover rounded group-hover:scale-105 transition">
                        <span class="text-xs font-bold text-gray-300 group-hover:text-mk-accent">${a.t}</span>
                    </div>`;
            });
        }

        function closeModal(id) { document.getElementById(id).classList.add('hidden'); }
    </script>
</body>
</html>
