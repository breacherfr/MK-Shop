<!DOCTYPE html>
<html lang="fr" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MK SHOP - Ultimate V2</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700;900&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: { sans: ['Montserrat', 'sans-serif'] },
                    colors: {
                        mk: { bg: '#0f172a', card: '#1e293b', accent: '#06b6d4', dark: '#020617' }
                    }
                }
            }
        }
    </script>
    <style>
        body { background-color: #0f172a; color: white; }
        .glass { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.05); }
        .card-hover { transition: all 0.3s; }
        .card-hover:hover { transform: translateY(-5px); border-color: #06b6d4; box-shadow: 0 0 20px rgba(6, 182, 212, 0.2); }
        
        /* Chat Styles */
        .chat-bubble-me { background: #06b6d4; color: white; border-radius: 15px 15px 0 15px; }
        .chat-bubble-other { background: #334155; color: white; border-radius: 15px 15px 15px 0; }
        
        /* Hide Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-thumb { background: #06b6d4; border-radius: 3px; }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col relative overflow-x-hidden">

    <nav class="glass sticky top-0 z-40 px-6 py-4 flex justify-between items-center">
        <div class="flex items-center gap-2 cursor-pointer" onclick="location.reload()">
            <span class="text-2xl">üõçÔ∏è</span>
            <h1 class="text-xl font-black italic tracking-widest">MK <span class="text-mk-accent">SHOP</span></h1>
        </div>
        
        <div class="flex items-center gap-4">
            <div id="user-display" class="hidden text-xs font-bold text-mk-accent border border-mk-accent px-3 py-1 rounded-full"></div>
            
            <button onclick="toggleAuth('login')" id="btn-login" class="text-xs font-bold hover:text-mk-accent transition">CONNEXION</button>
            <button onclick="toggleAuth('signup')" id="btn-signup" class="text-xs font-bold bg-mk-accent text-black px-4 py-2 rounded-lg hover:bg-white transition">S'INSCRIRE</button>
            
            <button onclick="openAdminAuth()" class="text-[10px] text-gray-600 hover:text-red-500 font-mono">ADMIN</button>
        </div>
    </nav>

    <main id="shop-page" class="max-w-7xl mx-auto p-6 md:p-10 pb-24">
        
        <div class="mb-12 text-center space-y-4">
            <h2 class="text-4xl md:text-6xl font-black italic uppercase text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-500">Catalogue Officiel</h2>
            <p class="text-mk-accent uppercase tracking-[0.3em] text-xs font-bold">Qualit√© Premium ‚Ä¢ Support 24/7 ‚Ä¢ Livraison Rapide</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

            <div class="glass rounded-3xl p-6 flex flex-col justify-between card-hover relative overflow-hidden group">
                <div class="absolute top-0 right-0 bg-mk-accent text-black text-[10px] font-bold px-3 py-1 rounded-bl-xl z-10">BEST SELLER</div>
                <div>
                    <div class="text-5xl mb-4 group-hover:scale-110 transition duration-300">üì∫</div>
                    <h3 class="text-2xl font-bold mb-2">TV & Anim√©s</h3>
                    <p class="text-xs text-gray-400 mb-4 uppercase font-bold tracking-wide">LE PACK DIVERTISSEMENT ULTIME</p>
                    <ul class="text-sm text-gray-300 space-y-2 mb-6 border-l-2 border-mk-accent pl-4">
                        <li>‚Ä¢ Canal+, Netflix, Prime, Disney+</li>
                        <li>‚Ä¢ Chaines Sport & PPV Incluses</li>
                        <li>‚Ä¢ Acc√®s illimit√© Anime Sana</li>
                    </ul>
                </div>
                <div class="mt-auto">
                    <div class="bg-black/50 p-3 rounded-xl mb-4 border border-gray-700">
                        <label class="text-[10px] text-gray-500 block mb-1">D√âJ√Ä ABONN√â ? CODE D'ACC√àS :</label>
                        <div class="flex gap-2">
                            <input id="tv-code-input" type="text" placeholder="Entrez votre code..." class="w-full bg-transparent text-sm outline-none text-white font-mono">
                            <button onclick="checkStreamingCode()" class="text-mk-accent font-bold">‚Üí</button>
                        </div>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-2xl font-black text-mk-accent">4‚Ç¨<span class="text-xs text-gray-400 font-normal">/mois</span></span>
                        <button onclick="openChat('Abonnement TV', '4‚Ç¨')" class="bg-white text-black font-bold px-6 py-2 rounded-full hover:bg-mk-accent transition">ACHETER</button>
                    </div>
                </div>
            </div>

            <div class="glass rounded-3xl p-6 flex flex-col justify-between card-hover">
                <div>
                    <div class="text-5xl mb-4">üéÆ</div>
                    <h3 class="text-2xl font-bold mb-2">Comptes Roblox</h3>
                    <p class="text-xs text-gray-400 mb-4 uppercase font-bold tracking-wide">COMPTES RICHES & RARES</p>
                    <ul class="text-sm text-gray-300 space-y-2 mb-6 border-l-2 border-mk-accent pl-4">
                        <li>‚Ä¢ Comptes avec Robux (1k - 50k)</li>
                        <li>‚Ä¢ Items Limited & Legacy</li>
                        <li>‚Ä¢ Ann√©e 2010-2016 Disponibles</li>
                    </ul>
                </div>
                <div class="mt-auto flex justify-between items-center">
                    <span class="text-2xl font-black text-mk-accent">5‚Ç¨ - 30‚Ç¨</span>
                    <button onclick="openChat('Compte Roblox', 'Variable')" class="bg-white text-black font-bold px-6 py-2 rounded-full hover:bg-mk-accent transition">ACHETER</button>
                </div>
            </div>

            <div class="glass rounded-3xl p-6 flex flex-col justify-between card-hover">
                <div>
                    <div class="text-5xl mb-4">‚≠ê</div>
                    <h3 class="text-2xl font-bold mb-2">Comptes Premium</h3>
                    <p class="text-xs text-gray-400 mb-4 uppercase font-bold tracking-wide">ABONNEMENTS √Ä VIE</p>
                    <ul class="text-sm text-gray-300 space-y-2 mb-6 border-l-2 border-mk-accent pl-4">
                        <li>‚Ä¢ Spotify / Deezer / Apple Music</li>
                        <li>‚Ä¢ Crunchyroll / ADN Premium</li>
                        <li>‚Ä¢ NordVPN / ExpressVPN</li>
                    </ul>
                </div>
                <div class="mt-auto flex justify-between items-center">
                    <span class="text-2xl font-black text-mk-accent">3‚Ç¨ - 20‚Ç¨</span>
                    <button onclick="openChat('Compte Premium', 'Variable')" class="bg-white text-black font-bold px-6 py-2 rounded-full hover:bg-mk-accent transition">ACHETER</button>
                </div>
            </div>

            <div class="glass rounded-3xl p-6 flex flex-col justify-between card-hover border border-red-900/30">
                <div>
                    <div class="text-5xl mb-4">üéØ</div>
                    <h3 class="text-2xl font-bold mb-2 text-red-500">Cheat & Tools</h3>
                    <p class="text-xs text-gray-400 mb-4 uppercase font-bold tracking-wide">DOMINEZ VOS JEUX PR√âF√âR√âS</p>
                    <ul class="text-sm text-gray-300 space-y-2 mb-6 border-l-2 border-red-500 pl-4">
                        <li>‚Ä¢ Fortnite (Aimbot, ESP, Softaim)</li>
                        <li>‚Ä¢ Roblox Scripts (Hubs, executors)</li>
                        <li>‚Ä¢ GTA V Mod Menus (Ind√©tectable)</li>
                    </ul>
                </div>
                <div class="mt-auto flex justify-between items-center">
                    <span class="text-2xl font-black text-red-500">6‚Ç¨ - 10‚Ç¨</span>
                    <button onclick="openChat('Cheat Gaming', 'Variable')" class="bg-white text-black font-bold px-6 py-2 rounded-full hover:bg-red-500 hover:text-white transition">ACHETER</button>
                </div>
            </div>

            <div class="glass rounded-3xl p-6 flex flex-col justify-between card-hover border border-purple-500/30 md:col-span-2 lg:col-span-2">
                <div class="flex flex-col md:flex-row gap-6">
                    <div class="text-5xl">‚ú®</div>
                    <div>
                        <h3 class="text-2xl font-bold mb-2 text-purple-400">Demande Personnalis√©e</h3>
                        <p class="text-xs text-gray-400 mb-2 uppercase font-bold tracking-wide">VOUS CHERCHEZ QUELQUE CHOSE DE SP√âCIFIQUE ?</p>
                        <p class="text-sm text-gray-300 mb-4">Un compte rare ? Un script sp√©cifique ? Un abonnement introuvable ? Discutez directement avec nous pour un devis sur mesure.</p>
                    </div>
                </div>
                <div class="mt-auto flex justify-end">
                    <button onclick="openChat('Demande Perso', 'Sur Devis')" class="bg-purple-500 text-white font-bold px-8 py-3 rounded-full hover:bg-purple-400 transition shadow-lg shadow-purple-500/20">CONTACTER LE VENDEUR</button>
                </div>
            </div>

        </div>
    </main>

    <div id="streaming-page" class="hidden min-h-screen bg-black absolute inset-0 z-50 overflow-y-auto">
        <div class="p-8">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-black text-mk-accent italic">MK STREAM <span class="text-white text-xs not-italic border border-white px-2 rounded">PREMIUM</span></h2>
                <button onclick="logoutStream()" class="text-red-500 text-xs font-bold border border-red-500 px-4 py-2 rounded hover:bg-red-500 hover:text-white">QUITTER</button>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2">
                    <div class="aspect-video bg-gray-900 rounded-2xl overflow-hidden border border-gray-800 relative">
                        <video id="stream-player" class="w-full h-full" controls></video>
                    </div>
                    <div class="mt-4">
                        <h3 class="font-bold text-xl text-white">TV DIRECT</h3>
                        <div class="flex gap-2 mt-2 overflow-x-auto pb-2">
                            <button onclick="playStream('https://static.france24.com/live/f24_fr.video/playlist.m3u8')" class="bg-gray-800 px-4 py-2 rounded text-xs hover:bg-mk-accent hover:text-black">France 24</button>
                            <button onclick="playStream('https://rbmn-live.akamaized.net/hls/live/590964/BoRB-AT/master.m3u8')" class="bg-gray-800 px-4 py-2 rounded text-xs hover:bg-mk-accent hover:text-black">Red Bull TV</button>
                            <button onclick="playStream('https://nasa-i.akamaihd.net/hls/live/253565/NASA-NTV1-Public/master.m3u8')" class="bg-gray-800 px-4 py-2 rounded text-xs hover:bg-mk-accent hover:text-black">NASA TV</button>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-900/50 p-4 rounded-2xl h-full border border-gray-800">
                    <h3 class="font-bold text-mk-accent mb-4">ANIM√âS DISPONIBLES</h3>
                    <div class="space-y-3" id="anime-list">
                        </div>
                </div>
            </div>
        </div>
    </div>

    <div id="auth-modal" class="hidden fixed inset-0 z-[60] bg-black/90 backdrop-blur-sm flex items-center justify-center p-4">
        <div class="bg-mk-card border border-gray-700 p-8 rounded-3xl w-full max-w-sm relative">
            <button onclick="closeModal('auth-modal')" class="absolute top-4 right-4 text-gray-400 hover:text-white">‚úï</button>
            <h3 id="auth-title" class="text-2xl font-black text-mk-accent mb-6 uppercase italic">Connexion</h3>
            <div class="space-y-4">
                <input id="auth-user" type="text" placeholder="Nom d'utilisateur" class="w-full bg-mk-bg border border-gray-600 p-3 rounded-xl outline-none focus:border-mk-accent text-white">
                <input id="auth-pass" type="password" placeholder="Mot de passe" class="w-full bg-mk-bg border border-gray-600 p-3 rounded-xl outline-none focus:border-mk-accent text-white">
                <button onclick="handleAuthSubmit()" class="w-full bg-mk-accent text-black font-bold py-3 rounded-xl hover:bg-white transition uppercase">Valider</button>
            </div>
        </div>
    </div>

    <div id="chat-modal" class="hidden fixed inset-0 z-[70] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4">
        <div class="bg-mk-card w-full max-w-md h-[500px] rounded-2xl overflow-hidden flex flex-col border border-gray-600 shadow-2xl">
            <div class="bg-mk-bg p-4 border-b border-gray-700 flex justify-between items-center">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center text-xl">üë§</div>
                    <div>
                        <h4 class="font-bold text-sm text-white" id="chat-product-title">Produit...</h4>
                        <p class="text-[10px] text-green-400">‚óè En ligne</p>
                    </div>
                </div>
                <button onclick="closeModal('chat-modal')" class="text-gray-400 hover:text-white text-xl">‚úï</button>
            </div>
            
            <div id="chat-messages" class="flex-1 p-4 overflow-y-auto space-y-4 bg-[#0b1120]">
                <div class="flex justify-start">
                    <div class="chat-bubble-other p-3 text-sm max-w-[80%]">
                        Bonjour ! Cet article vous int√©resse ? Je suis disponible pour l'achat.
                        <span class="block text-[9px] text-gray-400 text-right mt-1">MK Support</span>
                    </div>
                </div>
            </div>

            <div class="p-4 bg-mk-bg border-t border-gray-700 flex gap-2">
                <input id="chat-input" type="text" placeholder="√âcrivez votre message..." class="flex-1 bg-gray-800 rounded-full px-4 text-sm text-white outline-none focus:ring-1 focus:ring-mk-accent" onkeypress="handleEnter(event)">
                <button onclick="sendMessage()" class="bg-mk-accent text-black w-10 h-10 rounded-full flex items-center justify-center font-bold hover:bg-white">‚û§</button>
            </div>
        </div>
    </div>

    <div id="admin-login-modal" class="hidden fixed inset-0 z-[80] bg-black/95 flex items-center justify-center">
        <div class="text-center">
            <h3 class="text-red-500 font-mono font-bold text-xl mb-4">ACC√àS ADMINISTRATEUR</h3>
            <input id="admin-pass-input" type="password" placeholder="Code secret" class="bg-gray-900 border border-red-900 text-red-500 p-2 text-center rounded mb-4 outline-none w-48">
            <br>
            <button onclick="checkAdminCode()" class="bg-red-900/50 text-red-500 border border-red-500 px-4 py-1 rounded hover:bg-red-500 hover:text-white transition">ENTRER</button>
            <button onclick="closeModal('admin-login-modal')" class="block mx-auto mt-4 text-gray-600 text-xs">Annuler</button>
        </div>
    </div>

    <div id="admin-dashboard" class="hidden fixed inset-0 z-[90] bg-[#050505] p-6 overflow-y-auto">
        <div class="max-w-4xl mx-auto">
            <div class="flex justify-between items-center mb-8 border-b border-gray-800 pb-4">
                <h2 class="text-3xl font-mono text-green-500">ADMIN TERMINAL V1.0</h2>
                <button onclick="closeModal('admin-dashboard')" class="text-red-500 border border-red-500 px-4 py-2 rounded hover:bg-red-900">FERMER SESSION</button>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-gray-900 border border-gray-800 p-4 rounded-xl">
                    <h3 class="text-mk-accent font-bold mb-4 uppercase">üë§ Base de Donn√©es Utilisateurs</h3>
                    <div class="space-y-2" id="admin-users-list">
                        <div class="text-gray-500 text-sm italic">Aucune donn√©e captur√©e pour l'instant...</div>
                    </div>
                </div>

                <div class="bg-gray-900 border border-gray-800 p-4 rounded-xl">
                    <h3 class="text-yellow-500 font-bold mb-4 uppercase">üí¨ Interceptions Chat</h3>
                    <div class="space-y-2 max-h-[400px] overflow-y-auto" id="admin-chat-log">
                        <div class="text-gray-500 text-sm italic">En attente de messages...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ================= DONN√âES & VARIABLES =================
        let currentUser = localStorage.getItem('mk_user') || null;
        let dbUsers = JSON.parse(localStorage.getItem('mk_db_users')) || [];
        let chatLogs = JSON.parse(localStorage.getItem('mk_chat_logs')) || [];
        
        const STREAM_CODE = "MK-STREAM-2026";
        const ADMIN_CODE = "ADMIN123";

        // ================= INITIALISATION =================
        window.onload = () => {
            updateUI();
            
            // Populate Anime List in Stream Page
            const animeList = [
                {id: 'M7lc1UVf-VE', t: 'Action Movie'}, 
                {id: 'QfEv8Af3Mtk', t: 'Pat Patrouille'},
                {id: 'Fp9pNPdNwjI', t: 'Dragon Ball'}
            ];
            const listDiv = document.getElementById('anime-list');
            animeList.forEach(a => {
                listDiv.innerHTML += `
                    <div onclick="openYT('${a.id}')" class="flex items-center gap-3 p-2 bg-black rounded cursor-pointer hover:bg-gray-700">
                        <img src="https://img.youtube.com/vi/${a.id}/mqdefault.jpg" class="w-16 h-10 object-cover rounded">
                        <span class="text-xs font-bold text-gray-300">${a.t}</span>
                    </div>`;
            });
        };

        // ================= AUTHENTIFICATION =================
        let authMode = 'login';
        
        function toggleAuth(mode) {
            authMode = mode;
            document.getElementById('auth-modal').classList.remove('hidden');
            document.getElementById('auth-title').innerText = mode === 'login' ? 'Connexion' : 'Inscription';
            document.getElementById('auth-user').value = "";
            document.getElementById('auth-pass').value = "";
        }

        function handleAuthSubmit() {
            const u = document.getElementById('auth-user').value;
            const p = document.getElementById('auth-pass').value;

            if(!u || !p) return alert("Remplissez tout !");

            if (authMode === 'signup') {
                // Sauvegarde "Fake" Database
                dbUsers.push({ user: u, pass: p, date: new Date().toLocaleString() });
                localStorage.setItem('mk_db_users', JSON.stringify(dbUsers));
                alert("Compte cr√©√© ! Connectez-vous.");
                toggleAuth('login');
            } else {
                // Simple login check (accepte tout si signup n'est pas strict, mais ici on check juste si champs remplis pour la d√©mo)
                currentUser = u;
                localStorage.setItem('mk_user', u);
                closeModal('auth-modal');
                updateUI();
            }
        }

        function updateUI() {
            if(currentUser) {
                document.getElementById('btn-login').classList.add('hidden');
                document.getElementById('btn-signup').classList.add('hidden');
                const badge = document.getElementById('user-display');
                badge.classList.remove('hidden');
                badge.innerText = currentUser;
            }
        }

        // ================= CHAT SYSTEM =================
        let currentProduct = "";

        function openChat(productName, price) {
            if(!currentUser) {
                alert("Connectez-vous pour parler au vendeur !");
                return toggleAuth('login');
            }
            currentProduct = productName;
            document.getElementById('chat-modal').classList.remove('hidden');
            document.getElementById('chat-product-title').innerText = `${productName} (${price})`;
            document.getElementById('chat-messages').innerHTML = `
                <div class="flex justify-start fade-in">
                    <div class="chat-bubble-other p-3 text-sm max-w-[80%]">
                        Salut ${currentUser} ! Tu es int√©ress√© par <b>${productName}</b> ?
                        <br>Envoie "Dispo" pour proc√©der au paiement.
                        <span class="block text-[9px] text-gray-400 text-right mt-1">MK Bot</span>
                    </div>
                </div>
            `;
        }

        function sendMessage() {
            const input = document.getElementById('chat-input');
            const msg = input.value.trim();
            if(!msg) return;

            // 1. Afficher message user
            const chatBox = document.getElementById('chat-messages');
            chatBox.innerHTML += `
                <div class="flex justify-end mt-2 fade-in">
                    <div class="chat-bubble-me p-3 text-sm max-w-[80%]">
                        ${msg}
                        <span class="block text-[9px] text-white/70 text-right mt-1">Moi</span>
                    </div>
                </div>
            `;
            
            // 2. Sauvegarder pour Admin
            chatLogs.push({ user: currentUser, msg: msg, product: currentProduct, time: new Date().toLocaleTimeString() });
            localStorage.setItem('mk_chat_logs', JSON.stringify(chatLogs));

            // 3. Simuler r√©ponse auto
            setTimeout(() => {
                chatBox.innerHTML += `
                    <div class="flex justify-start mt-2 fade-in">
                        <div class="chat-bubble-other p-3 text-sm max-w-[80%]">
                            Je re√ßois ta demande. Un admin va te r√©pondre sous peu.
                            <span class="block text-[9px] text-gray-400 text-right mt-1">Syst√®me</span>
                        </div>
                    </div>
                `;
                chatBox.scrollTop = chatBox.scrollHeight;
            }, 1000);

            input.value = "";
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        function handleEnter(e) { if(e.key === 'Enter') sendMessage(); }

        // ================= ADMIN SYSTEM =================
        function openAdminAuth() {
            document.getElementById('admin-login-modal').classList.remove('hidden');
        }

        function checkAdminCode() {
            const code = document.getElementById('admin-pass-input').value;
            if(code === ADMIN_CODE) {
                closeModal('admin-login-modal');
                openAdminDashboard();
            } else {
                alert("ACC√àS REFUS√â");
            }
        }

        function openAdminDashboard() {
            const dash = document.getElementById('admin-dashboard');
            dash.classList.remove('hidden');
            
            // Remplir liste utilisateurs
            const userList = document.getElementById('admin-users-list');
            userList.innerHTML = "";
            if(dbUsers.length === 0) userList.innerHTML = "<div class='text-gray-600'>Vide</div>";
            dbUsers.forEach(u => {
                userList.innerHTML += `
                    <div class="bg-black border border-gray-700 p-2 rounded text-xs font-mono flex justify-between">
                        <span class="text-blue-400">User: ${u.user}</span>
                        <span class="text-red-400">Pass: ${u.pass}</span>
                    </div>
                `;
            });

            // Remplir Logs Chat
            const logList = document.getElementById('admin-chat-log');
            logList.innerHTML = "";
            if(chatLogs.length === 0) logList.innerHTML = "<div class='text-gray-600'>Vide</div>";
            chatLogs.slice().reverse().forEach(l => {
                logList.innerHTML += `
                    <div class="bg-black border border-gray-700 p-2 rounded mb-2">
                        <div class="flex justify-between text-[10px] text-gray-500">
                            <span>${l.time}</span>
                            <span class="text-mk-accent">${l.product}</span>
                        </div>
                        <div class="font-bold text-white text-sm"><span class="text-blue-400">${l.user}:</span> ${l.msg}</div>
                    </div>
                `;
            });
        }

        // ================= STREAMING LOGIC =================
        function checkStreamingCode() {
            const code = document.getElementById('tv-code-input').value;
            if(code === STREAM_CODE) {
                document.getElementById('shop-page').classList.add('hidden');
                document.getElementById('streaming-page').classList.remove('hidden');
            } else {
                alert("Code invalide. Achetez le pack TV pour avoir le code.");
            }
        }

        function logoutStream() {
            document.getElementById('streaming-page').classList.add('hidden');
            document.getElementById('shop-page').classList.remove('hidden');
            document.querySelector('video').pause();
        }

        function playStream(url) {
            const video = document.getElementById('stream-player');
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(video);
                hls.on(Hls.Events.MANIFEST_PARSED, function() { video.play(); });
            } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
                video.src = url;
                video.addEventListener('loadedmetadata', function() { video.play(); });
            }
        }
        
        function openYT(id) {
            // Simple redirect or replace player for demo
            window.open(`https://www.youtube.com/watch?v=${id}`, '_blank');
        }

        // ================= UTILS =================
        function closeModal(id) {
            document.getElementById(id).classList.add('hidden');
        }
    </script>
</body>
</html>
